<shader type="xmlshader" name="colorize">
    <technique priority="75">
    <pass>
        <buffer source="vertices" destination="position" />
        <buffer source="color" destination="color" />
        <buffer source="texture coordinate 0" destination="texture coordinate 0" />
        <texture name="tex diffuse" destination="unit 0" />
        <texture name="standardtex white" destination="unit 1" />
        <vp plugin="glfixed">
            <fixedvp>
                <constantcolor layer="0" type="shadervar">colorize</constantcolor>
            </fixedvp>
        </vp>
        <fp plugin="glfixed">
        <fixedfp>
            <layer>
                <colorsource num="0" source="texture" modifier="color"/>
                <colorsource num="1" source="constant color" modifier="color"/>
                <coloroperation operation="modulate"/>
                <alphasource num="0" source="texture" modifier="alpha"/>
                <alphaoperation operation="replace"/>
            </layer>
            <layer>
                <colorsource num="0" source="primary color" modifier="color"/>
                <colorsource num="1" source="previous layer" modifier="color"/>
                <coloroperation operation="modulate" />
                <alphasource num="0" source="previous layer" modifier="alpha"/>
                <alphaoperation operation="replace" />
            </layer>
        </fixedfp>
       </fp>
    </pass>
    </technique>
  
    <fallbackshader name="std_lighting" />
</shader>
